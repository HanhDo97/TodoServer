import{_ as $,r as m,u as P,a as U,o as S,b as w,c as a,d as l,e,w as b,v as z,f as I,g as v,t as L,h as f,i as G,j as A,k as E,n as H,T as K,U as C,p as x,l as T,m as j,q,s as O,x as R,y as J,z as Q}from"./index-D2wrb5V_.js";const V=t=>(x("data-v-80724a2d"),t=t(),T(),t),W={class:"login-form"},X={class:"email-wrapper"},Y=V(()=>e("br",null,null,-1)),Z={key:0,class:"error"},ee={key:0,class:"password-wrapper"},oe=["type"],se={key:0,class:"error"},ae={key:0},te={key:1,class:"loader"},ne=V(()=>e("small",null,[e("i",null,"(Demo account: user@mail.com/test321)")],-1)),le={__name:"Form",setup(t){const n=m(""),r=m(""),s=m(!1),d=m(!1),p=m(!1),h=P(),M=U(),i=m({email:"",password:""});S(()=>{window.addEventListener("resize",B);let c=document.getElementsByName("email")[0];c.addEventListener("focus",k),c.focus()});function k(){i.value.email="",i.value.password=""}function B(){window.location.reload()}function D(){if(n.value==""){i.value.email="Email can not be blank";return}d.value=!0,setTimeout(()=>{let c=document.getElementsByName("password")[0];c.addEventListener("focus",k),c.focus()},0)}function y(){if(r.value==""){i.value.password="Enter your password";return}let c={email:n.value,password:r.value};s.value=!0,K.getToken(c).then(o=>{s.value=!1,o.data.token!=null&&o.data.token!=""&&(localStorage.setItem("token",o.data.token),setTimeout(()=>{h.push({name:"dashboard"})},0),M.addMessage({message:"Login Success"}))}).catch(o=>{C.isIncorrectCredential(o),s.value=!1})}function N(){d.value=!1,r.value=""}function F(){p.value=!p.value}return(c,o)=>{const g=w("font-awesome-icon");return a(),l("div",W,[e("div",X,[b(e("input",{name:"email",placeholder:"Enter your email",type:"email","onUpdate:modelValue":o[0]||(o[0]=_=>n.value=_)},null,512),[[z,n.value]]),I(),Y,e("div",{onClick:N,class:"email-edit-ic"},[v(g,{icon:"fa-solid fa-pencil"})]),i.value.email!==""?(a(),l("span",Z,L(i.value.email),1)):f("",!0)]),d.value?(a(),l("div",ee,[b(e("input",{onKeyup:o[1]||(o[1]=A(_=>y(),["enter"])),name:"password",placeholder:"Enter your password",type:p.value?"text":"password","onUpdate:modelValue":o[2]||(o[2]=_=>r.value=_)},null,40,oe),[[G,r.value]]),e("div",{onClick:F,class:"password-show-ic"},[p.value?(a(),E(g,{key:0,icon:"fa-solid fa-eye"})):(a(),E(g,{key:1,icon:"fa-solid fa-eye-slash"}))]),i.value.password!==""?(a(),l("span",se,L(i.value.password),1)):f("",!0)])):f("",!0),d.value?(a(),l("button",{key:2,onClick:o[4]||(o[4]=_=>y()),style:H({"background-color":s.value?"#424141":""})},[s.value?(a(),l("div",te)):(a(),l("span",ae,"Log in"))],4)):(a(),l("button",{key:1,onClick:o[3]||(o[3]=_=>D())},"Continue")),ne])}}},ie=$(le,[["__scopeId","data-v-80724a2d"]]),u=t=>(x("data-v-02cfd88e"),t=t(),T(),t),ce={key:0,class:"login-wrapper"},re=u(()=>e("h3",null,"Log in to continue",-1)),de=u(()=>e("h4",null,"Or continue with:",-1)),ue={class:"login-method"},pe=u(()=>e("button",null,"Google",-1)),_e=u(()=>e("button",null,"Microsoft",-1)),me=u(()=>e("button",null,"Apple",-1)),ve=u(()=>e("button",null,"Slack",-1)),fe=u(()=>e("div",{class:"register"},[e("a",{href:""},"Can't log in ?"),e("a",{href:""},"Create an account")],-1)),he={__name:"LoginView",setup(t){const n=j();S(()=>{r(),q().then(s=>{const d=O(s.credential);console.log("Handle the userData",d)}).catch(s=>{console.log("Handle the error",s)})});function r(){n.loading.page=!0,C.getInfor().then(s=>{n.disableLoading("page"),R.push({name:"dashboard"})}).catch(s=>{n.disableLoading("page")})}return(s,d)=>{const p=w("font-awesome-icon"),h=w("GoogleLogin");return J(n).loading.page==!1?(a(),l("div",ce,[e("h1",null,[v(p,{icon:"fa-solid fa-chart-simple"}),I(" TodoApp")]),re,v(ie),de,e("div",ue,[v(h,null,{default:Q(()=>[pe]),_:1}),_e,me,ve]),fe])):f("",!0)}}},we=$(he,[["__scopeId","data-v-02cfd88e"]]);export{we as default};
